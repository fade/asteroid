<!DOCTYPE html>
<html lang="en">
<head>
  <title data-text="title">Asteroid Radio - Admin Dashboard</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="/asteroid/static/asteroid.css">
  <script src="/asteroid/static/js/auth-ui.js"></script>
  <script src="/asteroid/static/js/admin.js"></script>
</head>
<body>
  <div class="container">
    <h1>🎛️ ADMIN DASHBOARD</h1>
    <div class="nav">
      <a href="/asteroid/">Home</a>
      <a href="/asteroid/player/">Player</a>
      <a href="/asteroid/profile">Profile</a>
      <a href="/asteroid/admin/users">👥 Users</a>
      <a href="/asteroid/logout" class="btn-logout">Logout</a>
    </div>
    
    <!-- System Status -->
    <div class="admin-section">
      <h2>System Status</h2>
      <div class="admin-grid">
        <div class="status-card">
          <h3>Server Status</h3>
          <p class="status-good" data-text="server-status">🟢 Running</p>
        </div>
        <div class="status-card">
          <h3>Database Status</h3>
          <p class="status-good" data-text="database-status">🟢 Connected</p>
        </div>
        <div class="status-card">
          <h3>Liquidsoap Status</h3>
          <p class="status-error" data-text="liquidsoap-status">🔴 Not Running</p>
        </div>
        <div class="status-card">
          <h3>Icecast Status</h3>
          <p class="status-error" data-text="icecast-status">🔴 Not Running</p>
        </div>
      </div>
    </div>

    <!-- Music Library Management -->
    <div class="admin-section">
      <h2>Music Library Management</h2>
      
      <!-- File Upload -->
      <div class="upload-section">
        <h3>Add Music Files</h3>
        <div class="upload-info">
          <p><strong>To add your own MP3 files:</strong></p>
          <ol>
              <li>Copy your MP3/FLAC/OGG/WAV files to: <code>/home/glenn/Projects/Code/asteroid/music/incoming/</code></li>
              <li>Click "Copy Files to Library" below</li>
              <li>Files will be moved to the library and added to the database</li>
          </ol>
          <p><em>Supported formats: MP3, FLAC, OGG, WAV</em></p>
        </div>
        <div class="upload-controls">
          <button id="copy-files" class="btn btn-success">📁 Copy Files to Library</button>
          <button id="open-incoming" class="btn btn-info">📂 Open Incoming Folder</button>
        </div>
      </div>
      
      <div class="admin-controls">
        <button id="scan-library" class="btn btn-primary">🔍 Scan Library</button>
        <button id="refresh-tracks" class="btn btn-secondary">🔄 Refresh Track List</button>
        <span id="scan-status" style="margin-left: 15px; font-weight: bold;"></span>
      </div>
      
      <div class="track-stats">
        <p>Total Tracks: <span id="track-count" data-text="track-count">0</span></p>
      </div>
    </div>

    <!-- Track Management -->
    <div class="admin-section">
      <h2>Track Management</h2>
      <div class="track-controls">
        <input type="text" id="track-search" placeholder="Search tracks..." class="search-input">
        <select id="sort-tracks" class="sort-select">
          <option value="title">Sort by Title</option>
          <option value="artist">Sort by Artist</option>
          <option value="album">Sort by Album</option>
        </select>
        <select id="tracks-per-page" class="sort-select" onchange="changeTracksPerPage()">
          <option value="10">10 per page</option>
          <option value="20" selected>20 per page</option>
          <option value="50">50 per page</option>
          <option value="100">100 per page</option>
        </select>
      </div>
      
      <div id="tracks-container" class="tracks-list">
        <div class="loading">Loading tracks...</div>
      </div>
      
      <!-- Pagination Controls -->
      <div id="pagination-controls" style="display: none; margin-top: 20px; text-align: center;">
        <button onclick="goToPage(1)" class="btn btn-secondary">« First</button>
        <button onclick="previousPage()" class="btn btn-secondary">‹ Prev</button>
        <span id="page-info" style="margin: 0 15px; font-weight: bold;">Page 1 of 1</span>
        <button onclick="nextPage()" class="btn btn-secondary">Next ›</button>
        <button onclick="goToLastPage()" class="btn btn-secondary">Last »</button>
      </div>
    </div>

    <!-- Player Control -->
    <div class="admin-section">
      <h2>Player Control</h2>
      <div class="card">
        <h3>🎵 Player Control</h3>
        <div class="player-controls">
          <button id="player-play" class="btn btn-primary" onclick="playTrack()">▶️ Play</button>
          <button id="player-pause" class="btn btn-secondary" onclick="pausePlayer()">⏸️ Pause</button>
          <button id="player-stop" class="btn btn-secondary" onclick="stopPlayer()">⏹️ Stop</button>
          <button id="player-resume" class="btn btn-secondary" onclick="resumePlayer()">▶️ Resume</button>
        </div>
        <div id="player-status" class="status-info">
          Status: <span id="player-state">Unknown</span><br>
          Current Track: <span id="current-track">None</span>
        </div>
      </div>

      <div class="card">
        <h3>👥 User Management</h3>
        <p>Manage user accounts, roles, and permissions.</p>
        <div class="controls">
          <a href="/asteroid/admin/users" class="btn btn-primary">👥 Manage Users</a>
        </div>
      </div>
    </div>
  </div>

  <script>
  </script>
</body>
</html>
